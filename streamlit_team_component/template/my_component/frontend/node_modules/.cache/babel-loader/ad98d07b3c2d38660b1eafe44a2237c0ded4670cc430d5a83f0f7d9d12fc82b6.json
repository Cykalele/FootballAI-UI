{"ast":null,"code":"import _objectSpread from\"C:/Users/hause/OneDrive/01_Studium/02_Master/05_Masterarbeit/03_FootballAI-UI/streamlit_team_component/template/my_component/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{Streamlit,withStreamlitConnection}from\"streamlit-component-lib\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyComponent=_ref=>{let{args}=_ref;const[assignments,setAssignments]=useState(args.assignments||{});useEffect(()=>{var _args$image;console.log(\"ðŸ“¸ Bilddaten (Base64 LÃ¤nge):\",(_args$image=args.image)===null||_args$image===void 0?void 0:_args$image.length);console.log(\"ðŸ‘¥ Spieler:\",args.players);console.log(\"ðŸŽ¨ Farben:\",args.colors);console.log(\"ðŸ“¸ React Bild-URL:\",\"data:image/png;base64,\".concat(args.image.slice(0,30),\"...\"));},[]);const onBoxClick=(id,shiftKey)=>{const current=assignments[id]||{team:\"1\",removed:false};const updated=_objectSpread(_objectSpread({},assignments),{},{[id]:shiftKey?_objectSpread(_objectSpread({},current),{},{removed:!current.removed}):{team:current.team===\"1\"?\"2\":\"1\",removed:false}});setAssignments(updated);Streamlit.setComponentValue(updated);};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"inline-block\",position:\"relative\",border:\"2px dashed green\",maxWidth:\"100%\"},children:[/*#__PURE__*/_jsx(\"img\",{src:\"data:image/png;base64,\".concat(args.image),alt:\"Frame\",style:{display:\"block\",maxWidth:\"100%\",height:\"auto\"}}),args.players.map(player=>{const a=assignments[player.id]||{team:\"1\",removed:false};const color=a.removed?args.colors.removed:args.colors[a.team];const[x1,y1,x2,y2]=player.bbox;const boxStyle={position:\"absolute\",top:\"\".concat(y1,\"px\"),left:\"\".concat(x1,\"px\"),width:\"\".concat(x2-x1,\"px\"),height:\"\".concat(y2-y1,\"px\"),border:\"2px solid \".concat(color),boxSizing:\"border-box\",cursor:\"pointer\",zIndex:10};return/*#__PURE__*/_jsx(\"div\",{onClick:e=>onBoxClick(player.id,e.shiftKey),style:boxStyle,title:\"ID: \".concat(player.id)},player.id);})]});};export default withStreamlitConnection(MyComponent);","map":{"version":3,"names":["React","useEffect","useState","Streamlit","withStreamlitConnection","jsx","_jsx","jsxs","_jsxs","MyComponent","_ref","args","assignments","setAssignments","_args$image","console","log","image","length","players","colors","concat","slice","onBoxClick","id","shiftKey","current","team","removed","updated","_objectSpread","setComponentValue","style","display","position","border","maxWidth","children","src","alt","height","map","player","a","color","x1","y1","x2","y2","bbox","boxStyle","top","left","width","boxSizing","cursor","zIndex","onClick","e","title"],"sources":["C:/Users/hause/OneDrive/01_Studium/02_Master/05_Masterarbeit/03_FootballAI-UI/streamlit_team_component/template/my_component/frontend/src/MyComponent.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport {\r\n  Streamlit,\r\n  withStreamlitConnection,\r\n  ComponentProps,\r\n} from \"streamlit-component-lib\"\r\n\r\ninterface Player {\r\n  id: string\r\n  bbox: [number, number, number, number]\r\n}\r\n\r\ninterface Props extends ComponentProps {\r\n  args: {\r\n    image: string\r\n    players: Player[]\r\n    assignments: Record<string, { team: \"1\" | \"2\"; removed: boolean }>\r\n    colors: { \"1\": string; \"2\": string; removed: string }\r\n  }\r\n}\r\n\r\nconst MyComponent = ({ args }: Props) => {\r\n  const [assignments, setAssignments] = useState(args.assignments || {})\r\n\r\n  useEffect(() => {\r\n    console.log(\"ðŸ“¸ Bilddaten (Base64 LÃ¤nge):\", args.image?.length)\r\n    console.log(\"ðŸ‘¥ Spieler:\", args.players)\r\n    console.log(\"ðŸŽ¨ Farben:\", args.colors)\r\n    console.log(\r\n      \"ðŸ“¸ React Bild-URL:\",\r\n      `data:image/png;base64,${args.image.slice(0, 30)}...`\r\n    )\r\n  }, [])\r\n\r\n  const onBoxClick = (id: string, shiftKey: boolean) => {\r\n    const current = assignments[id] || { team: \"1\", removed: false }\r\n\r\n    const updated = {\r\n      ...assignments,\r\n      [id]: shiftKey\r\n        ? { ...current, removed: !current.removed }\r\n        : {\r\n            team: current.team === \"1\" ? \"2\" : \"1\",\r\n            removed: false,\r\n          },\r\n    }\r\n\r\n    setAssignments(updated as Record<string, { team: \"1\" | \"2\"; removed: boolean }>)\r\n    Streamlit.setComponentValue(updated)\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"inline-block\",\r\n        position: \"relative\",\r\n        border: \"2px dashed green\",\r\n        maxWidth: \"100%\",\r\n      }}\r\n    >\r\n      {/* Bild */}\r\n      <img\r\n        src={`data:image/png;base64,${args.image}`}\r\n        alt=\"Frame\"\r\n        style={{\r\n          display: \"block\",\r\n          maxWidth: \"100%\",\r\n          height: \"auto\",\r\n        }}\r\n      />\r\n\r\n      {/* Bounding Boxes */}\r\n      {args.players.map((player) => {\r\n        const a = assignments[player.id] || { team: \"1\", removed: false }\r\n        const color = a.removed ? args.colors.removed : args.colors[a.team]\r\n        const [x1, y1, x2, y2] = player.bbox\r\n        const boxStyle: React.CSSProperties = {\r\n          position: \"absolute\",\r\n          top: `${y1}px`,\r\n          left: `${x1}px`,\r\n          width: `${x2 - x1}px`,\r\n          height: `${y2 - y1}px`,\r\n          border: `2px solid ${color}`,\r\n          boxSizing: \"border-box\",\r\n          cursor: \"pointer\",\r\n          zIndex: 10,\r\n        }\r\n\r\n        return (\r\n          <div\r\n            key={player.id}\r\n            onClick={(e) => onBoxClick(player.id, e.shiftKey)}\r\n            style={boxStyle}\r\n            title={`ID: ${player.id}`}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withStreamlitConnection(MyComponent)\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}