{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hause\\\\OneDrive\\\\01_Studium\\\\02_Master\\\\05_Masterarbeit\\\\03_FootballAI-UI\\\\streamlit_team_component\\\\template\\\\my_component\\\\frontend\\\\src\\\\MyComponent.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Streamlit, withStreamlitConnection } from \"streamlit-component-lib\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyComponent = ({\n  args\n}) => {\n  _s();\n  const [assignments, setAssignments] = useState(() => args.assignments || {});\n\n  // üì¶ Synchronisiere neue Props von Streamlit in state\n  useEffect(() => {\n    setAssignments(args.assignments || {});\n  }, [args.assignments]);\n  useEffect(() => {\n    Streamlit.setFrameHeight();\n  }, [assignments, args.image, args.players]);\n  // üñ±Ô∏è Klick-Handler f√ºr Bounding Boxes\n  const onBoxClick = (id, shiftKey) => {\n    const current = assignments[id] || {\n      team: \"1\",\n      removed: false\n    };\n    const updated = {\n      ...assignments,\n      [id]: shiftKey ? {\n        ...current,\n        removed: !current.removed\n      } : {\n        team: current.team === \"1\" ? \"2\" : \"1\",\n        removed: false\n      }\n    };\n    console.log(\"üß™ Updated:\", updated);\n    setAssignments(updated);\n    Streamlit.setComponentValue(updated);\n  };\n\n  // ‚ùó Wichtige Pr√ºfung: Daten √ºberhaupt da?\n  if (!args.image || !args.players || !args.colors) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u26D4 Keine Daten empfangen.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 10\n    }, this);\n  }\n  const scale = args.scale || 1; // fallback = 1\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"relative\",\n      display: \"inline-block\",\n      width: `${args.width * scale}px`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: `data:image/png;base64,${args.image}`,\n      alt: \"Frame\",\n      style: {\n        display: \"block\",\n        width: \"100%\",\n        // f√ºllt Wrapper\n        height: \"auto\",\n        border: \"1px solid red\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), args.players.map(player => {\n      const a = assignments[player.id] || {\n        team: \"1\",\n        removed: false\n      };\n      const color = a.removed ? args.colors.removed : args.colors[a.team];\n      const [x1, y1, x2, y2] = player.bbox;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => onBoxClick(player.id, e.shiftKey),\n        style: {\n          position: \"absolute\",\n          top: `${y1 * scale}px`,\n          left: `${x1 * scale}px`,\n          width: `${(x2 - x1) * scale}px`,\n          height: `${(y2 - y1) * scale}px`,\n          border: `2px solid ${color}`,\n          backgroundColor: \"rgba(0,0,0,0.0)\",\n          boxSizing: \"border-box\",\n          cursor: \"pointer\",\n          zIndex: 10\n        }\n      }, player.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(MyComponent, \"84Wnn3nYNybnCtBWCEXWeZ450l8=\");\n_c = MyComponent;\nexport default _c2 = withStreamlitConnection(MyComponent);\nvar _c, _c2;\n$RefreshReg$(_c, \"MyComponent\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","useState","Streamlit","withStreamlitConnection","jsxDEV","_jsxDEV","MyComponent","args","_s","assignments","setAssignments","setFrameHeight","image","players","onBoxClick","id","shiftKey","current","team","removed","updated","console","log","setComponentValue","colors","children","fileName","_jsxFileName","lineNumber","columnNumber","scale","style","position","display","width","src","alt","height","border","map","player","a","color","x1","y1","x2","y2","bbox","onClick","e","top","left","backgroundColor","boxSizing","cursor","zIndex","_c","_c2","$RefreshReg$"],"sources":["C:/Users/hause/OneDrive/01_Studium/02_Master/05_Masterarbeit/03_FootballAI-UI/streamlit_team_component/template/my_component/frontend/src/MyComponent.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport {\r\n  Streamlit,\r\n  withStreamlitConnection,\r\n  ComponentProps,\r\n} from \"streamlit-component-lib\"\r\n\r\ninterface Player {\r\n  id: string\r\n  bbox: [number, number, number, number]\r\n}\r\n\r\ninterface Props extends ComponentProps {\r\n  args: {\r\n    image: string\r\n    players: Player[]\r\n    assignments: Record<string, { team: \"1\" | \"2\"; removed: boolean }>\r\n    colors: { \"1\": string; \"2\": string; removed: string }\r\n    width: number    \r\n    height: number   \r\n    scale: number\r\n  }\r\n}\r\n\r\nconst MyComponent = ({ args }: Props) => {\r\n  const [assignments, setAssignments] = useState<Record<\r\n    string,\r\n    { team: \"1\" | \"2\"; removed: boolean }\r\n  >>(() => args.assignments || {})\r\n\r\n  // üì¶ Synchronisiere neue Props von Streamlit in state\r\n  useEffect(() => {\r\n    setAssignments(args.assignments || {})\r\n  }, [args.assignments])\r\n  useEffect(() => {\r\n    Streamlit.setFrameHeight() \r\n  }, [assignments, args.image, args.players])\r\n  // üñ±Ô∏è Klick-Handler f√ºr Bounding Boxes\r\n  const onBoxClick = (id: string, shiftKey: boolean) => {\r\n    const current = assignments[id] || { team: \"1\", removed: false }\r\n\r\n    const updated: Record<string, { team: \"1\" | \"2\"; removed: boolean }> = {\r\n      ...assignments,\r\n      [id]: shiftKey\r\n        ? { ...current, removed: !current.removed }\r\n        : {\r\n            team: current.team === \"1\" ? \"2\" : \"1\",\r\n            removed: false,\r\n          },\r\n    }\r\n\r\n    console.log(\"üß™ Updated:\", updated)\r\n\r\n    setAssignments(updated)\r\n    Streamlit.setComponentValue(updated)\r\n  }\r\n\r\n  // ‚ùó Wichtige Pr√ºfung: Daten √ºberhaupt da?\r\nif (!args.image || !args.players || !args.colors) {\r\n  return <div>‚õî Keine Daten empfangen.</div>\r\n}\r\nconst scale = args.scale || 1  // fallback = 1\r\n    return (\r\n        <div\r\n          style={{\r\n            position: \"relative\",\r\n            display: \"inline-block\",\r\n            width: `${args.width * scale}px`\r\n          }}\r\n        >\r\n        <img\r\n          src={`data:image/png;base64,${args.image}`}\r\n          alt=\"Frame\"\r\n          style={{\r\n            display: \"block\",\r\n            width: \"100%\",   // f√ºllt Wrapper\r\n            height: \"auto\",\r\n            border: \"1px solid red\"\r\n          }}\r\n        />\r\n\r\n    {args.players.map((player) => {\r\n      const a = assignments[player.id] || { team: \"1\", removed: false }\r\n      const color = a.removed ? args.colors.removed : args.colors[a.team]\r\n      const [x1, y1, x2, y2] = player.bbox\r\n      return (\r\n        <div\r\n          key={player.id}\r\n          onClick={(e) => onBoxClick(player.id, e.shiftKey)}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: `${y1 * scale}px`,\r\n            left: `${x1 * scale}px`,\r\n            width: `${(x2 - x1) * scale}px`,\r\n            height: `${(y2 - y1) * scale}px`,\r\n            border: `2px solid ${color}`,\r\n            backgroundColor: \"rgba(0,0,0,0.0)\",\r\n            boxSizing: \"border-box\",\r\n            cursor: \"pointer\",\r\n            zIndex: 10\r\n          }}\r\n        />\r\n      )\r\n    })}\r\n  </div>\r\n)\r\n}\r\n\r\nexport default withStreamlitConnection(MyComponent)\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SACEC,SAAS,EACTC,uBAAuB,QAElB,yBAAyB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAmBhC,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EACvC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAG3C,MAAMM,IAAI,CAACE,WAAW,IAAI,CAAC,CAAC,CAAC;;EAEhC;EACAT,SAAS,CAAC,MAAM;IACdU,cAAc,CAACH,IAAI,CAACE,WAAW,IAAI,CAAC,CAAC,CAAC;EACxC,CAAC,EAAE,CAACF,IAAI,CAACE,WAAW,CAAC,CAAC;EACtBT,SAAS,CAAC,MAAM;IACdE,SAAS,CAACS,cAAc,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACF,WAAW,EAAEF,IAAI,CAACK,KAAK,EAAEL,IAAI,CAACM,OAAO,CAAC,CAAC;EAC3C;EACA,MAAMC,UAAU,GAAGA,CAACC,EAAU,EAAEC,QAAiB,KAAK;IACpD,MAAMC,OAAO,GAAGR,WAAW,CAACM,EAAE,CAAC,IAAI;MAAEG,IAAI,EAAE,GAAG;MAAEC,OAAO,EAAE;IAAM,CAAC;IAEhE,MAAMC,OAA8D,GAAG;MACrE,GAAGX,WAAW;MACd,CAACM,EAAE,GAAGC,QAAQ,GACV;QAAE,GAAGC,OAAO;QAAEE,OAAO,EAAE,CAACF,OAAO,CAACE;MAAQ,CAAC,GACzC;QACED,IAAI,EAAED,OAAO,CAACC,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG;QACtCC,OAAO,EAAE;MACX;IACN,CAAC;IAEDE,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEF,OAAO,CAAC;IAEnCV,cAAc,CAACU,OAAO,CAAC;IACvBlB,SAAS,CAACqB,iBAAiB,CAACH,OAAO,CAAC;EACtC,CAAC;;EAED;EACF,IAAI,CAACb,IAAI,CAACK,KAAK,IAAI,CAACL,IAAI,CAACM,OAAO,IAAI,CAACN,IAAI,CAACiB,MAAM,EAAE;IAChD,oBAAOnB,OAAA;MAAAoB,QAAA,EAAK;IAAwB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC5C;EACA,MAAMC,KAAK,GAAGvB,IAAI,CAACuB,KAAK,IAAI,CAAC,EAAE;EAC3B,oBACIzB,OAAA;IACE0B,KAAK,EAAE;MACLC,QAAQ,EAAE,UAAU;MACpBC,OAAO,EAAE,cAAc;MACvBC,KAAK,EAAE,GAAG3B,IAAI,CAAC2B,KAAK,GAAGJ,KAAK;IAC9B,CAAE;IAAAL,QAAA,gBAEJpB,OAAA;MACE8B,GAAG,EAAE,yBAAyB5B,IAAI,CAACK,KAAK,EAAG;MAC3CwB,GAAG,EAAC,OAAO;MACXL,KAAK,EAAE;QACLE,OAAO,EAAE,OAAO;QAChBC,KAAK,EAAE,MAAM;QAAI;QACjBG,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE;MACV;IAAE;MAAAZ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAELtB,IAAI,CAACM,OAAO,CAAC0B,GAAG,CAAEC,MAAM,IAAK;MAC5B,MAAMC,CAAC,GAAGhC,WAAW,CAAC+B,MAAM,CAACzB,EAAE,CAAC,IAAI;QAAEG,IAAI,EAAE,GAAG;QAAEC,OAAO,EAAE;MAAM,CAAC;MACjE,MAAMuB,KAAK,GAAGD,CAAC,CAACtB,OAAO,GAAGZ,IAAI,CAACiB,MAAM,CAACL,OAAO,GAAGZ,IAAI,CAACiB,MAAM,CAACiB,CAAC,CAACvB,IAAI,CAAC;MACnE,MAAM,CAACyB,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,CAAC,GAAGN,MAAM,CAACO,IAAI;MACpC,oBACE1C,OAAA;QAEE2C,OAAO,EAAGC,CAAC,IAAKnC,UAAU,CAAC0B,MAAM,CAACzB,EAAE,EAAEkC,CAAC,CAACjC,QAAQ,CAAE;QAClDe,KAAK,EAAE;UACLC,QAAQ,EAAE,UAAU;UACpBkB,GAAG,EAAE,GAAGN,EAAE,GAAGd,KAAK,IAAI;UACtBqB,IAAI,EAAE,GAAGR,EAAE,GAAGb,KAAK,IAAI;UACvBI,KAAK,EAAE,GAAG,CAACW,EAAE,GAAGF,EAAE,IAAIb,KAAK,IAAI;UAC/BO,MAAM,EAAE,GAAG,CAACS,EAAE,GAAGF,EAAE,IAAId,KAAK,IAAI;UAChCQ,MAAM,EAAE,aAAaI,KAAK,EAAE;UAC5BU,eAAe,EAAE,iBAAiB;UAClCC,SAAS,EAAE,YAAY;UACvBC,MAAM,EAAE,SAAS;UACjBC,MAAM,EAAE;QACV;MAAE,GAbGf,MAAM,CAACzB,EAAE;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAcf,CAAC;IAEN,CAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAER,CAAC;AAAArB,EAAA,CAlFKF,WAAW;AAAAkD,EAAA,GAAXlD,WAAW;AAoFjB,eAAAmD,GAAA,GAAetD,uBAAuB,CAACG,WAAW,CAAC;AAAA,IAAAkD,EAAA,EAAAC,GAAA;AAAAC,YAAA,CAAAF,EAAA;AAAAE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}